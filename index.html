<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç›´è¦ºæŒ‡å¼•ç‰Œå¡</title>
  <link rel="stylesheet" href="style.css?v=20250612" />
</head>
<body>
  <!-- ğŸ”Š èƒŒæ™¯éŸ³æ¨‚ -->
  <audio id="bg-music" src="music.mp3" loop></audio>

  <!-- ğŸ“œ ç¬¬ä¸€é ï¼šé–‹å ´ -->
  <div id="page-1" class="container">
    <h2>ã€Šå¤¢å¢ƒæ—…äººçš„å¬å–šã€‹</h2>
    <p class="intro-text">
      é–‰ä¸Šé›™çœ¼ï¼Œæ·±æ·±å¸ä¸€å£æ°£â€¦â€¦<br />
      æƒ³åƒä½ æ­£ç«™åœ¨ä¸€é“å…‰èˆ‡å½±äº¤ç¹”çš„é–€å‰ã€‚<br />
      é–€å¾Œï¼Œæ˜¯ä½ éˆé­‚æ›¾ç¶“åˆ°è¨ªï¼Œå»éºå¿˜çš„ä¸–ç•Œ<br />
      <strong>å¤¢çš„ä¸–ç•Œã€‚</strong>
    </p>
    <p class="intro-text">
      æ­¤åˆ»ï¼Œä½ ä¸å†æ˜¯ç¾å¯¦ä¸­çš„èª°ï¼Œ<br />
      ä½ æ˜¯â€•â€•<strong>å¤¢å¢ƒæ—…äººã€‚</strong>
    </p>
    <p class="intro-text">
      æ¯å¼µç‰Œï¼Œæ˜¯ä¸€æ‰‡é–€ï¼›æ¯å€‹é¸æ“‡ï¼Œæ˜¯ä¸€æ¬¡å°è©±ã€‚<br />
      éœå¿ƒï¼Œè®“ç›´è¦ºå¸¶ä½ æŠ½å‡ºä»Šæ—¥çš„è¨Šæ¯ã€‚<br />
      å®ƒå°‡æˆç‚ºä½ éˆé­‚æ­¤åˆ»æœ€éœ€è¦çš„æé†’ã€‚
    </p>
    <p class="intro-text">
      <strong>å¤¢çš„å¬å–šå·²éŸ¿èµ·ï¼Œå•Ÿç¨‹å§ï¼Œå¤¢å¢ƒæ—…äººã€‚</strong>
    </p>
    <button id="start-journey-btn">å•Ÿç¨‹</button>
  </div>

  <!-- ğŸŒ™ ç¬¬äºŒé ï¼šéœå¿ƒæŠ½ç‰Œ -->
  <div id="page-2" class="container hidden">
    <h2>éœå¿ƒæŠ½ç‰Œ</h2>
    <p>ç•¶ä½ æº–å‚™å¥½ï¼Œè«‹æŒ‰ä¸‹æŒ‰éˆ•ã€‚</p>
    <button id="go-draw-btn">æŠ½ç‰Œ</button>
  </div>

  <!-- ğŸ¥ ç¬¬ä¸‰é ï¼šå‹•ç•«æ’­æ”¾ -->
  <div id="page-3" class="container hidden">
    <video id="draw-video" class="hidden" muted playsinline>
      <source src="bg.mp4" type="video/mp4" />
      æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ’­æ”¾ã€‚
    </video>
  </div>

  <!-- ğŸŒŸ ç¬¬å››é ï¼šçµæœå±•ç¤º -->
  <div id="page-4" class="container hidden">
    <h2 id="card-name">ç‰Œå¡åç¨±</h2>
    <img id="card-image" alt="æŠ½åˆ°çš„ç‰Œå¡" />
    <p id="card-description"></p>
    <p><strong>æŒ‡å¼•ï¼š</strong> <span id="card-advice"></span></p>
    <p><strong>æå•ï¼š</strong> <span id="card-question"></span></p>

    <div class="after-draw-message">
      <p>
        å¦‚æœä»Šå¤©çš„å¤¢å¢ƒè¨Šæ¯è§¸å‹•äº†ä½ ï¼Œ<br>
        ä¹Ÿè¨±ï¼Œé€™å°±æ˜¯éˆé­‚åœ¨è¼•è²å‘¼å–šä½ ï¼š<br>
        ã€Œæˆ‘æƒ³è¢«è½è¦‹ã€æˆ‘æƒ³æ›´é è¿‘æˆ‘çœŸæ­£çš„æ–¹å‘ã€‚ã€<br>
        æ¯ä¸€å¼µå¤¢å¢ƒç‰Œï¼Œéƒ½æ˜¯éˆé­‚çš„ä¸€æ¬¡å¬å–šã€‚<br>
        å¦‚æœä½ æƒ³æ›´é€²ä¸€æ­¥æ·±å…¥æ¢ç´¢å…§åœ¨ã€é‡‹æ”¾å£“åŠ›ï¼Œ<br>
        æˆ‘å€‘æä¾›é Œç¼½éŸ³ç™‚ã€éˆæ°£ç™‚ç™’èˆ‡éˆé­‚æ¢ç´¢è«®è©¢â”€â”€<br>
        ç”±å…·å¿ƒç†èƒŒæ™¯çš„å¤©ä½¿éˆæ°£å¤§å¸«ï¼Œä»¥åŠè‡¼äº•éˆæ°£ç™‚ç™’è€…å…±åŒé™ªä¼´ä½ ï¼Œ<br>
        å”åŠ©ä½ è§£é–å…§åœ¨å¡é»ï¼Œèµ°å›éˆé­‚çš„é“è·¯ã€‚
      </p>
      <p>
        æ­¡è¿èªè­˜æˆ‘å€‘çš„éˆé­‚ç™‚ç™’ç©ºé–“
        <a href="https://www.notion.so/1d3ca6c9d5d980889759e16839f58d35?source=copy_link" target="_blank">
          ã€ç¦¾ç’ Hopeã€
        </a>
      </p>
      <div style="margin-top: 2rem;">
        <img src="images/author-yuyu.jpeg" alt="ç‰Œå¡å‰µä½œè€… Yuyu" style="
          width: 120px;
          border-radius: 50%;
          box-shadow: 0 4px 12px rgba(0,0,0,0.3);
          margin-top: 1rem;">
        <p style="font-size: 0.9em; margin-top: 0.5rem; opacity: 0.8;">ç‰Œå¡å‰µä½œè€… Yuyu</p>
      </div>
    </div>
  </div>

  <!-- ğŸ“œ å¡ç‰Œè³‡æ–™ -->
  <script src="window.cards.js?v=20250612"></script>

  <!-- ğŸš€ ä¸»åŠŸèƒ½è…³æœ¬ -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      console.log("âœ… script.js è¼‰å…¥æˆåŠŸ");

      const cards = window.cards;
      let drawn = false;

      const pages = {
        p1: document.getElementById("page-1"),
        p2: document.getElementById("page-2"),
        p3: document.getElementById("page-3"),
        p4: document.getElementById("page-4")
      };

      const bgMusic = document.getElementById("bg-music");
      const video = document.getElementById("draw-video");
      const startBtn = document.getElementById("start-journey-btn");
      const drawBtn = document.getElementById("go-draw-btn");

      if (!startBtn || !drawBtn || !pages.p1 || !pages.p2 || !pages.p3 || !pages.p4) {
        console.error("âŒ ç„¡æ³•æ‰¾åˆ°å¿…è¦å…ƒç´ ï¼Œè«‹æª¢æŸ¥ HTML çµæ§‹æ˜¯å¦æ­£ç¢ºï¼");
        return;
      }

      startBtn.addEventListener("click", () => {
        pages.p1.classList.add("hidden");
        pages.p2.classList.remove("hidden");

        bgMusic.play().then(() => {
          console.log("âœ… éŸ³æ¨‚æ’­æ”¾æˆåŠŸ");
        }).catch(err => {
          console.warn("âš ï¸ éŸ³æ¨‚æ’­æ”¾è¢«ç€è¦½å™¨æ””æˆª", err);
        });
      });

      drawBtn.addEventListener("click", () => {
        if (drawn) {
          alert("ä½ åªèƒ½æŠ½ä¸€æ¬¡ç‰Œï¼");
          return;
        }

        pages.p2.classList.add("hidden");
        pages.p3.classList.remove("hidden");

        video.classList.remove("hidden");
        video.currentTime = 0;
        video.play().catch(err => {
          console.warn("âš ï¸ å½±ç‰‡æ’­æ”¾éŒ¯èª¤ï¼š", err);
        });

        setTimeout(() => {
          pages.p3.classList.add("hidden");
          pages.p4.classList.remove("hidden");

          const card = cards[Math.floor(Math.random() * cards.length)];
          console.log("ğŸ´ æŠ½åˆ°ç‰Œå¡ï¼š", card);

          document.getElementById("card-name").textContent = card.name;
          document.getElementById("card-image").src = card.img;
          document.getElementById("card-description").textContent = card.desc;
          document.getElementById("card-advice").textContent = card.advice;
          document.getElementById("card-question").textContent = card.question || 'ï¼ˆæ­¤ç‰Œæ²’æœ‰æå•å…§å®¹ï¼‰';

          Object.assign(document.body.style, {
            backgroundImage: "url('bg2.png')",
            backgroundSize: "cover",
            backgroundPosition: "center",
            backgroundRepeat: "no-repeat",
            backgroundAttachment: "scroll",
            transition: "background-image 1s ease"
          });

          // âœ… ç§»é™¤é€™è¡Œï¼Œè®“ CSS æ§åˆ¶èƒŒæ™¯é®ç½©
          // pages.p4.style.backgroundColor = "transparent";

          drawn = true;
        }, 5000);
      });
    });
  </script>
</body>
</html>
